import{r as x,u as h,a as u,j as e,L as g,b as j}from"./index-DinWDTD4.js";import{C as f,B as y,s as o}from"./index-DnKkT7qR.js";import{T as w,F as t,I as i,R as I,a as b}from"./index-DjQi3Myj.js";const{Title:v,Text:T}=w,F=()=>{const[l,a]=x.useState(!1),c=h(),{login:d}=u(),p=async n=>{a(!0);try{const s=new FormData;s.append("username",n.phone),s.append("password",n.password);const r=await j.post("/auth/login",s,{headers:{"Content-Type":"multipart/form-data"}}),{access_token:m}=r.data;await d(m),o.success("登录成功"),c("/workspace")}catch(s){console.error(s);const r=s.response?.data?.detail||"登录失败，请检查手机号或密码";o.error(r)}finally{a(!1)}};return e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"#f0f2f5"},children:e.jsxs(f,{style:{width:400,boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:24},children:[e.jsx(v,{level:3,children:"Model AI"}),e.jsx(T,{type:"secondary",children:"电商模特图生成 MVP"})]}),e.jsxs(t,{name:"login",initialValues:{remember:!0},onFinish:p,size:"large",children:[e.jsx(t.Item,{name:"phone",rules:[{required:!0,message:"请输入手机号"}],children:e.jsx(i,{prefix:e.jsx(I,{}),placeholder:"手机号"})}),e.jsx(t.Item,{name:"password",rules:[{required:!0,message:"请输入密码"}],children:e.jsx(i.Password,{prefix:e.jsx(b,{}),placeholder:"密码"})}),e.jsx(t.Item,{children:e.jsx(y,{type:"primary",htmlType:"submit",block:!0,loading:l,children:"登录"})}),e.jsxs("div",{style:{textAlign:"center"},children:["没有账号？ ",e.jsx(g,{to:"/register",children:"立即注册"})]})]})]})})};export{F as default};
