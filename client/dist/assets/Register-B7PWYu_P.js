import{r as c,u as p,j as e,L as x,b as g}from"./index-DinWDTD4.js";import{I as u,C as f,B as j,s as m}from"./index-DnKkT7qR.js";import{T as y,F as n,I as i,a as b,R as v}from"./index-DjQi3Myj.js";var I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M744 62H280c-35.3 0-64 28.7-64 64v768c0 35.3 28.7 64 64 64h464c35.3 0 64-28.7 64-64V126c0-35.3-28.7-64-64-64zm-8 824H288V134h448v752zM472 784a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"mobile",theme:"outlined"};function l(){return l=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},l.apply(this,arguments)}const w=(s,t)=>c.createElement(u,l({},s,{ref:t,icon:I})),R=c.forwardRef(w),{Title:M,Text:O}=y,B=()=>{const[s,t]=c.useState(!1),a=p(),r=async o=>{t(!0);try{await g.post("/auth/register",{phone:o.phone,password:o.password,company_name:o.company_name,contact_name:o.contact_name}),m.success("注册成功，请登录"),a("/login")}catch(d){console.error(d);const h=d.response?.data?.detail||"注册失败，请稍后重试";m.error(h)}finally{t(!1)}};return e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"#f0f2f5"},children:e.jsxs(f,{style:{width:400,boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:24},children:[e.jsx(M,{level:3,children:"注册 Model AI"}),e.jsx(O,{type:"secondary",children:"创建您的账号"})]}),e.jsxs(n,{name:"register",onFinish:r,size:"large",layout:"vertical",children:[e.jsx(n.Item,{name:"phone",label:"手机号",rules:[{required:!0,message:"请输入手机号"}],children:e.jsx(i,{prefix:e.jsx(R,{}),placeholder:"请输入手机号"})}),e.jsx(n.Item,{name:"password",label:"密码",rules:[{required:!0,message:"请输入密码"},{min:6,message:"密码至少6位"}],children:e.jsx(i.Password,{prefix:e.jsx(b,{}),placeholder:"设置密码"})}),e.jsx(n.Item,{name:"contact_name",label:"联系人 (选填)",children:e.jsx(i,{prefix:e.jsx(v,{}),placeholder:"您的称呼"})}),e.jsx(n.Item,{children:e.jsx(j,{type:"primary",htmlType:"submit",block:!0,loading:s,children:"注册"})}),e.jsxs("div",{style:{textAlign:"center"},children:["已有账号？ ",e.jsx(x,{to:"/login",children:"去登录"})]})]})]})})};export{B as default};
